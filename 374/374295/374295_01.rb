require 'prime'

def A(n)
  m = Math.sqrt(n).to_i + 1
  ary = Array.new(n + 1, 0)
  (0..m).each{|i|
    (0..m).each{|j|
      k = i * i + 3 * j * j
      if k <= n
        if i == 0 && j == 0
          ary[k] += 0
        elsif i > 0 && j > 0
          ary[k] += 2
        else
          ary[k] += 1
        end
      end
    }
  }
  ary
end

n = 10 * 10 ** 7
ary = A(n)

p a = (0..100).map{|i| ary.index(i)}
(1..30).each{|i|
  j = a[i].to_i
  print i
  print ' '
  if j < 2
    puts j
  else
    puts j.to_s + " = " + j.prime_division.map{|i| i.join("^")}.join("*")
  end
}

# 1 1
# 2 7 = 7^1
# 3 4 = 2^2
# 4 91 = 7^1*13^1
# 5 2401 = 7^4
# 6 28 = 2^2*7^1
# 7 117649 = 7^6
# 8 1729 = 7^1*13^1*19^1
# 9 196 = 2^2*7^2
# 10 31213 = 7^4*13^1
# 11 0
# 12 364 = 2^2*7^1*13^1
# 13 0
# 14 1529437 = 7^6*13^1
# 15 9604 = 2^2*7^4
# 16 53599 = 7^1*13^1*19^1*31^1
# 17 0
# 18 2548 = 2^2*7^2*13^1
# 19 0
# 20 593047 = 7^4*13^1*19^1
# 21 470596 = 2^2*7^6
# 22 0
# 23 0
# 24 6916 = 2^2*7^1*13^1*19^1
# 25 68574961 = 7^4*13^4
# 26 0
# 27 33124 = 2^2*7^2*13^2
# 28 29059303 = 7^6*13^1*19^1
# 29 0
# 30 124852 = 2^2*7^4*13^1

